ğŸ›’ Shop Backend (Ecommerce API)

Shop Backend es una API REST profesional desarrollada con Node.js, TypeScript, Prisma y PostgreSQL, que implementa todas las funcionalidades base de un e-commerce moderno: autenticaciÃ³n, roles, gestiÃ³n de productos, carrito de compras, Ã³rdenes y pagos con Stripe.

Creada con enfoque modular, escalable y de nivel productivo, ideal para demostrar dominio backend en un entorno real con buenas prÃ¡cticas, documentaciÃ³n Swagger y arquitectura limpia.

ğŸ§© CaracterÃ­sticas principales

ğŸ” Registro, login y perfil con JWT

ğŸ‘¥ Roles ADMIN / CUSTOMER

ğŸ›ï¸ CRUD completo de productos

ğŸ›’ Carrito de compras con control de stock

ğŸ“¦ Ã“rdenes de compra desde carrito

ğŸ’³ Checkout y webhook de Stripe (CLP)

âš™ï¸ Validaciones con Zod

ğŸ§± Arquitectura modular por capas

ğŸ§¾ DocumentaciÃ³n interactiva con Swagger

ğŸš€ EjecuciÃ³n local
Recurso	URL
ğŸŒ API Local	http://localhost:3000/api
ğŸ“˜ Swagger Docs	http://localhost:3000/api/docs

ğŸ’¡ No hay despliegue en producciÃ³n. Este proyecto estÃ¡ optimizado para entorno local o contenedores Docker.

ğŸ–¼ï¸ Capturas (Swagger UI)

ğŸ“¸ Reemplaza las siguientes imÃ¡genes con tus capturas reales.






ğŸ§  Flujo general (E1)
flowchart TD
  A[Usuario] -->|Register/Login| B[Auth (JWT)]
  B -->|Token vÃ¡lido| C[Carrito (Cart)]
  C -->|Agrega productos| D[Orders]
  D -->|Checkout| E[Stripe Checkout]
  E -->|Webhook Ã©xito| F[Orden pagada]
  F --> G[ConfirmaciÃ³n al usuario]

ğŸ‘¥ Roles y permisos (E3)
AcciÃ³n	ADMIN	CUSTOMER
Crear productos	âœ…	âŒ
Editar productos	âœ…	âŒ
Eliminar productos	âœ…	âŒ
Ver productos	âœ…	âœ…
Agregar al carrito	âœ…	âœ…
Crear orden	âœ…	âœ…
Ver todas las Ã³rdenes	âœ…	âŒ
Ver sus Ã³rdenes	âœ…	âœ…
ğŸ§± Arquitectura del proyecto
src/
â”œâ”€ config/
â”‚  â”œâ”€ prisma.ts
â”‚  â”œâ”€ stripe.ts
â”‚  â””â”€ swagger.ts
â”‚
â”œâ”€ controllers/
â”‚  â”œâ”€ auth.controller.ts
â”‚  â”œâ”€ cart.controller.ts
â”‚  â”œâ”€ orders.controller.ts
â”‚  â””â”€ products.controller.ts
â”‚
â”œâ”€ services/
â”‚  â”œâ”€ auth.service.ts
â”‚  â”œâ”€ cart.service.ts
â”‚  â”œâ”€ orders.service.ts
â”‚  â””â”€ products.service.ts
â”‚
â”œâ”€ middlewares/
â”‚  â”œâ”€ auth.middleware.ts
â”‚  â”œâ”€ role.middleware.ts
â”‚  â”œâ”€ validate.middleware.ts
â”‚  â””â”€ rawbody.middleware.ts
â”‚
â”œâ”€ dtos/
â”‚  â”œâ”€ auth.dto.ts
â”‚  â”œâ”€ cart.dto.ts
â”‚  â”œâ”€ product.dto.ts
â”‚  â””â”€ order.dto.ts
â”‚
â”œâ”€ routes/
â”‚  â”œâ”€ auth.routes.ts
â”‚  â”œâ”€ cart.routes.ts
â”‚  â”œâ”€ orders.routes.ts
â”‚  â”œâ”€ products.routes.ts
â”‚  â””â”€ payments.routes.ts
â”‚
â””â”€ app.ts / server.ts

ğŸ“¦ Endpoints principales
MÃ©todo	Endpoint	DescripciÃ³n
Auth		
POST	/auth/register	Registro de usuario
POST	/auth/login	Iniciar sesiÃ³n y obtener token
GET	/auth/profile	Perfil del usuario (JWT requerido)
Products		
POST	/products	Crear producto (ADMIN)
GET	/products	Listar productos
GET	/products/:id	Detalle de producto
PUT	/products/:id	Actualizar producto (ADMIN)
DELETE	/products/:id	Desactivar producto (ADMIN)
Cart		
GET	/cart	Obtener carrito actual
POST	/cart	Agregar producto
PUT	/cart/:productId	Actualizar cantidad
DELETE	/cart/:productId	Eliminar producto
DELETE	/cart	Vaciar carrito
Orders / Payments		
POST	/orders/checkout	Crear orden desde carrito
GET	/orders	Listar Ã³rdenes del usuario
GET	/orders/admin	Listar todas (ADMIN)
POST	/payments/checkout	Crear sesiÃ³n de pago Stripe
POST	/payments/webhook	Webhook Stripe
âš™ï¸ InstalaciÃ³n local
git clone https://github.com/tuusuario/shop-backend.git
cd shop-backend
npm install

âš™ï¸ Variables de entorno .env
PORT=3000
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/shopdb"
JWT_SECRET=supersecretkey
JWT_EXPIRES_IN=7d
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

ğŸ³ EjecuciÃ³n con Docker
docker compose up --build


API disponible en http://localhost:3000/api
Swagger en http://localhost:3000/api/docs

ğŸ”§ Scripts disponibles
Script	AcciÃ³n
npm run dev	Inicia modo desarrollo con nodemon
npm run build	Compila TypeScript a JavaScript
npm start	Ejecuta versiÃ³n compilada
npx prisma studio	Interfaz visual de la base de datos
ğŸ§­ Roadmap

 Tests automÃ¡ticos con Jest

 Control de stock dinÃ¡mico en checkout

 Roles avanzados (ADMIN / STAFF / CUSTOMER)

 Frontend React con Dashboard Admin

 Notificaciones en tiempo real (Socket.IO)

ğŸ‘¤ Autor

Alejandro MuÃ±oz Garay
ğŸ”— LinkedIn